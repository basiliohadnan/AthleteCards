"use strict";(self.webpackChunkAthleteCards=self.webpackChunkAthleteCards||[]).push([[444],{5444:(T,g,o)=>{o.r(g),o.d(g,{ProfilePageModule:()=>S});var r=o(9808),s=o(8698);let a=(()=>{class l{}return l.metersToKilometers=n=>!n||n<0?0:Math.trunc(n/1e3),l.secondsToHours=n=>!n||n<0?0:Math.trunc(n=n/60/60),l.avgSpeed=(n,e)=>!n||n<0||!e||e<0?0:(n/e).toFixed(2),l.runningAvgPace=(n,e)=>!e||e<0||!n||n<0?0:(n/e*60).toFixed(2),l})();var t=o(1223),h=o(3526),u=o(5370),c=o(6742);function d(l,n){if(1&l&&(t.TgZ(0,"div")(1,"h3",6),t._uU(2),t.qZA(),t._UZ(3,"img",7),t.TgZ(4,"h5",8),t._uU(5),t.qZA(),t.TgZ(6,"table",9)(7,"thead",10)(8,"tr",11)(9,"th",12),t._UZ(10,"app-icon",13),t._uU(11," Running "),t.qZA()()(),t.TgZ(12,"tbody")(13,"tr",11)(14,"th",14),t._uU(15,"Runs"),t.qZA(),t.TgZ(16,"td",15),t._uU(17),t.qZA()(),t.TgZ(18,"tr",11)(19,"th",14),t._uU(20,"Distance"),t.qZA(),t.TgZ(21,"td",15),t._uU(22),t.qZA()(),t.TgZ(23,"tr",11)(24,"th",14),t._uU(25,"Moving Time"),t.qZA(),t.TgZ(26,"td",15),t._uU(27),t.qZA()(),t.TgZ(28,"tr",11)(29,"th",14),t._uU(30,"Avg Pace"),t.qZA(),t.TgZ(31,"td",15),t._uU(32),t.qZA()()()(),t.TgZ(33,"table",9)(34,"thead",10)(35,"tr",11)(36,"th",12),t._UZ(37,"app-icon",16),t._uU(38," Cycling "),t.qZA()()(),t.TgZ(39,"tbody")(40,"tr",11)(41,"th",14),t._uU(42,"Rides"),t.qZA(),t.TgZ(43,"td",15),t._uU(44),t.qZA()(),t.TgZ(45,"tr",11)(46,"th",14),t._uU(47,"Distance"),t.qZA(),t.TgZ(48,"td",15),t._uU(49),t.qZA()(),t.TgZ(50,"tr",11)(51,"th",14),t._uU(52,"Moving Time"),t.qZA(),t.TgZ(53,"td",15),t._uU(54),t.qZA()(),t.TgZ(55,"tr",11)(56,"th",14),t._uU(57,"Avg Speed"),t.qZA(),t.TgZ(58,"td",15),t._uU(59),t.qZA()()()()()),2&l){const e=t.oxw();t.xp6(2),t.AsE("",null==e.loggedAthleteInfo?null:e.loggedAthleteInfo.firstname," ",null==e.loggedAthleteInfo?null:e.loggedAthleteInfo.lastname,""),t.xp6(1),t.s9C("src",null==e.loggedAthleteInfo?null:e.loggedAthleteInfo.profile,t.LSH),t.xp6(2),t.hij("Currently in ",null==e.loggedAthleteInfo?null:e.loggedAthleteInfo.city,""),t.xp6(5),t.Q6J("height",25)("width",25),t.xp6(7),t.Oqu(null==e.athleteStats||null==e.athleteStats.all_run_totals?null:e.athleteStats.all_run_totals.count),t.xp6(5),t.hij("",null==e.athleteStats||null==e.athleteStats.all_run_totals?null:e.athleteStats.all_run_totals.distance,"K"),t.xp6(5),t.hij("",null==e.athleteStats||null==e.athleteStats.all_run_totals?null:e.athleteStats.all_run_totals.moving_time," hours"),t.xp6(5),t.hij("",e.runningAvgPace," min/km"),t.xp6(5),t.Q6J("height",25)("width",25),t.xp6(7),t.Oqu(null==e.athleteStats||null==e.athleteStats.all_ride_totals?null:e.athleteStats.all_ride_totals.count),t.xp6(5),t.hij("",null==e.athleteStats||null==e.athleteStats.all_ride_totals?null:e.athleteStats.all_ride_totals.distance,"K"),t.xp6(5),t.hij("",null==e.athleteStats||null==e.athleteStats.all_ride_totals?null:e.athleteStats.all_ride_totals.moving_time," hours"),t.xp6(5),t.hij("",e.cyclingAvgSpeed," km/h")}}const _=function(){return["/"]};function m(l,n){if(1&l&&(t.TgZ(0,"div",17),t._UZ(1,"img",18),t.TgZ(2,"h4"),t._uU(3,"Something is wrong :/"),t.qZA(),t.TgZ(4,"h5"),t._uU(5),t.qZA(),t.TgZ(6,"h6"),t._uU(7),t.qZA(),t.TgZ(8,"div",19),t._UZ(9,"app-button",20),t.qZA()()),2&l){const e=t.oxw();t.xp6(5),t.hij("Status code: ",e.errorStatus,""),t.xp6(2),t.hij("Details: ",e.errorMessage,""),t.xp6(2),t.Q6J("route",t.DdM(3,_))}}function p(l,n){1&l&&(t.TgZ(0,"div",22),t._UZ(1,"img",23),t.TgZ(2,"h4"),t._uU(3," Wait for it... "),t.qZA()())}function f(l,n){if(1&l&&t.YNc(0,p,4,0,"div",21),2&l){const e=t.oxw(),i=t.MAs(5);t.Q6J("ngIf",!e.notFound)("ngIfElse",i)}}const A=[{path:"",component:(()=>{class l{constructor(e,i){this.activatedRoute=e,this.profilePageService=i,this.id=0,this.token="",this.runningAvgSpeed=0,this.runningAvgPace=0,this.cyclingAvgSpeed=0,this.loading=!0,this.notFound=!1,this.errorStatus=0,this.errorMessage=""}ngOnInit(){this.activatedRoute.params.subscribe(e=>{e&&e.token&&e.id&&(this.token=e.token,this.id=e.id,this.logActivityStats())})}getLoggedInAthlete(){this.profilePageService.getLoggedInAthlete(this.token).subscribe(e=>{this.loggedAthleteInfo=e})}logActivityStats(){this.profilePageService.logActivityStats(this.token,this.id).subscribe(e=>{this.athleteStats=e,this.athleteStatsAllRunTotals=this.athleteStats.all_run_totals,this.athleteStatsAllRideTotals=this.athleteStats.all_ride_totals,this.formatActivityStats(),this.getLoggedInAthlete(),this.loading=!1},e=>{console.log(e),this.notFound=!0,this.errorStatus=e.status,this.errorMessage=e.message})}formatActivityStats(){this.athleteStatsAllRunTotals.distance=a.metersToKilometers(this.athleteStatsAllRunTotals.distance),this.athleteStatsAllRunTotals.moving_time=a.secondsToHours(this.athleteStatsAllRunTotals.moving_time),this.runningAvgPace=a.runningAvgPace(this.athleteStatsAllRunTotals.moving_time,this.athleteStatsAllRunTotals.distance),this.athleteStatsAllRideTotals.distance=a.metersToKilometers(this.athleteStatsAllRideTotals.distance),this.athleteStatsAllRideTotals.moving_time=a.secondsToHours(this.athleteStatsAllRideTotals.moving_time),this.cyclingAvgSpeed=a.avgSpeed(this.athleteStatsAllRideTotals.distance,this.athleteStatsAllRideTotals.moving_time)}}return l.\u0275fac=function(e){return new(e||l)(t.Y36(s.gz),t.Y36(h.b))},l.\u0275cmp=t.Xpm({type:l,selectors:[["app-profile-page"]],decls:8,vars:2,consts:[["name","viewport","content","width=device-width initial-scale=1.0"],[1,"container"],[1,"container__box"],[4,"ngIf","ngIfElse"],["notfoundBlock",""],["loadingBlock",""],[1,"container__athlete-name"],[1,"container__avatar-img",3,"src"],[1,"container__athlete-city"],[1,"table"],[1,"table__header"],[1,"table__line"],["colspan","2",1,"table__header-title"],["source","./assets/img/run-icon.png","alt","Shoes Icon",3,"height","width"],[1,"table__header-content"],[1,"table__line-content"],["source","./assets/img/bike-icon.png","alt","Bike Icon",3,"height","width"],[1,"notfoundblock"],["height","250","src","https://i.ytimg.com/vi/wEWF2xh5E8s/hqdefault.jpg","alt","404 image: not found",1,"notfoundblock__img"],[1,"notfoundblock__btn-wrapper"],["buttonText","\u2190 Return",1,"notfound__button",3,"route"],["class","loadingblock",4,"ngIf","ngIfElse"],[1,"loadingblock"],["height","280","src","https://i.stack.imgur.com/ATB3o.gif","alt","Loading image",1,"loadingblock__img"]],template:function(e,i){if(1&e&&(t._UZ(0,"meta",0),t.TgZ(1,"div",1)(2,"div",2),t.YNc(3,d,60,16,"div",3),t.YNc(4,m,10,4,"ng-template",null,4,t.W1O),t.YNc(6,f,1,2,"ng-template",null,5,t.W1O),t.qZA()()),2&e){const P=t.MAs(7);t.xp6(3),t.Q6J("ngIf",!i.loading&&!i.notFound)("ngIfElse",P)}},directives:[r.O5,u.o,c.r],styles:["table[_ngcontent-%COMP%], th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{border:1px solid #000000;border-collapse:collapse;padding:.4rem;text-align:left}.container[_ngcontent-%COMP%]{margin-top:7rem;justify-content:space-around;display:block;text-align:center}.container__box[_ngcontent-%COMP%]{border:3px solid var(--strava-orange);border-radius:.5rem;padding:1rem;width:80vw;display:inline-block}.container__title[_ngcontent-%COMP%]{text-align:center;color:var(--strava-orange);justify-content:center}.container__avatar-img[_ngcontent-%COMP%]{border:3px solid #bbbbbb;border-radius:50%}.table[_ngcontent-%COMP%]{width:80vw;display:inline-table;margin-bottom:2rem}.table__header-title[_ngcontent-%COMP%]{font-weight:900;font-size:.8rem}.table__header-content[_ngcontent-%COMP%]{font-size:.6rem}.table__line[_ngcontent-%COMP%]{text-align:center}.table__line-content[_ngcontent-%COMP%]{font-size:.75rem}.notfoundblock__img[_ngcontent-%COMP%], .loadingblock__img[_ngcontent-%COMP%]{margin-bottom:4rem}"]}),l})()}];let v=(()=>{class l{}return l.\u0275fac=function(e){return new(e||l)},l.\u0275mod=t.oAB({type:l}),l.\u0275inj=t.cJS({imports:[[s.Bz.forChild(A)],s.Bz]}),l})();var Z=o(6178);let S=(()=>{class l{}return l.\u0275fac=function(e){return new(e||l)},l.\u0275mod=t.oAB({type:l}),l.\u0275inj=t.cJS({imports:[[r.ez,v,Z.m]]}),l})()}}]);